<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
    </style>
</head>
<body>
    <div id="app">

    <!-- v-bind 指令 -->
        <!-- <h2 :style="{key(属性名):value(属性值)}">{{message}}</h2> -->
        <h2 :style="{fontSize:'50px'}">{{message}}</h2>    
        <!-- 上面的50px要加引号，不然会当作变量处理 -->

        <!-- <h2 :style="{fontSize:finalSize}">{{message}}</h2>    
        <h2 :style="{fontSize:size+'px',color:finalColor}">{{message}}</h2>    

        <h2 :style="getStyles()">{{message}}</h2>     -->

    <!-- 基本计算属性 -->
        <!--1.直接拼接 (语法过于繁琐，舍) -->
        <h2>{{firstName + ' ' + lastName }}</h2>
        <h2>{{firstName}} {{lastName}}</h2>
        <!-- 2.通过定义methods -->
        <h2>{{getFullName()}}</h2>
        <!-- 3.通过computed -->
        <!-- 因为是计算属性，所以调用不需要小括号 -->
        <h2>{{fullName}}</h2>  
        <!-- 第二种和第三种方法，在使用时，一般会使用第三种，因为在多次调用的时候，method会执行多次，而computed就只会执行一次。
            因为vue会对computed进行缓存，如果内部的值不发生变化的话，就直接打印，不会再执行一次，而如果值发生变化，就会在执行一次 -->
        
        <h2>总价格：{{totalPrice}}</h2>

    <!-- 计算属性setter和getter -->
        <h2>{{allName}}</h2>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        var app = new Vue({
            el:"#app",
            data:{
                message:"你好啊",
                finalSize:"100px",
                size:100,
                finalColor:'red',
                firstName:'Lebron',
                lastName:'James',
                books:[
                    {id:110,name:'Nuix编程艺术',price:119},
                    {id:111,name:'代码大全',price:149},
                    {id:112,name:'深入理解计算机原理',price:98},
                    {id:113,name:'现代操作系统',price:108},
                ]
            },
            //computed:计算属性(),在起名字的时候就没有前面的get了，因为都是一些属性，而不是方法
            computed:{
                fullName:function () {
                    return this.firstName + ' ' + this.lastName
                },
                totalPrice:function () {
                    let result = 0;
                    // for (let i = 0; i < this.books.length; i++) {
                    //     result += this.books[i].price
                    // }
                    // return result
                    // 学了JS高阶之后,下面的i是一个个的对象
                    for(let i of this.books){
                        result += i.price
                    }
                    return result
                },

            // <!-- 计算属性setter和getter -->
                // allName:function(){
                //     return this.firstName + ' ' + this.lastName
                // }
              //实际上上面的函数是下面这个样子的，所以在上面调用的时候是没有小括号的，因为是来找allName中get方法 
                // allName:{
                //     set:function(){

                //     },
                //     get:function(){
                //         return this.firstName + ' ' + this.lastName
                //     }
                // }
              //但是计算属性一般是没有set方法的，是只读属性，会将set省略，只有get，再次省略就得到上面的那种写法
                allName:{
                    set:function(newValue){
                        console.log('-----',newValue)
                        //这里如果想生效，就在控制台进行操作
                        //app.allName = 'Kobe Blent'

                        //对更改的值进行保存
                        const names = newValue.split(' ');//这个是分割，对' '空格进行分割，然后得到的东西作为数组的形式保存在names中
                        this.firstName = names[0];
                        this.lastName = names[1];''
                    },
                    get:function(){
                        return this.firstName + ' ' + this.lastName
                    }
                }
                
            },
            methods:{
                getStyles:function(){
                    return {fontSize:this.size+'px',color:this.finalColor}
                },
                getFullName(){
                    return this.firstName + ' ' + this.lastName
                }
            },
        })
    </script>
</body>
</html>